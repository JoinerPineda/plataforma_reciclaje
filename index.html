<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plataforma de Reciclaje - Login y Panel de Control</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">


</head>
<body>
    
    <div id="loginContainer" class="login-container">
        <h2>Bienvenido a la Plataforma de Reciclaje</h2>
        <p>Conéctate con tu cuenta para gestionar tus recogidas y ver el impacto que generas.</p>
        <form id="loginForm">
            <label for="username">Usuario</label>
            <input type="text" id="username" placeholder="Ingresa tu usuario" required>
            
            <label for="password">Contraseña</label>
            <input type="password" id="password" placeholder="Ingresa tu contraseña" required>
            
            <button type="submit">Iniciar Sesión</button>
        </form>
        <div id="loginMessage"></div>
    </div>

    <div id="dashboardContainer" class="dashboard-container" style="display: none;">
        <header>
            <h1>Bienvenido Joiner</h1>
            <p>¡Gracias por contribuir al reciclaje y cuidado del medio ambiente!</p>
        </header>

        <section class="recycling-summary">
            <h2><i class="fas fa-recycle"></i> Tu Impacto en el Reciclaje</h2>
            <div class="impact-cards">
                <div class="card">
                    <h3>Total de Recogidas</h3>
                    <p id="totalRecogidas">5</p>
                </div>
                <div class="card">
                    <h3>Residuos Reciclados (kg)</h3>
                    <p id="totalResiduos">15.5</p>
                </div>
                <div class="card">
                    <h3>CO₂ Ahorrado (kg)</h3>
                    <p id="co2Ahorrado">7.8</p>
                </div>
            </div>
        </section>

        <section class="quick-access">
            <h2>Accesos Rápidos</h2>
            <div class="buttons">
                <button onclick="requestPickup()">Solicitar Recogida</button>
                <button onclick="showRecyclingHistory()">Historial de Reciclaje</button>
                <button onclick="showRecyclingCenters()">Centros de Reciclaje</button>
            </div>
        </section>

        <section class="notifications">
            <h2>Notificaciones</h2>
            <ul id="notificationList">
                <li>No tienes nuevas notificaciones.</li>
            </ul>
        </section>
    </div>

    <!-- Formulario de Solicitud de Recogida -->
    <div id="pickupFormContainer" class="pickup-form-container" style="display: none;">
    <h2>Solicitar Recogida de Residuos</h2>
    <form id="pickupForm">
        <label for="pickupDate">Fecha de Recogida:</label>
        <input type="date" id="pickupDate" required>

        <label for="pickupLocation">Ubicación:</label>
        <input type="text" id="pickupLocation" placeholder="Ingresa tu dirección" required>

        <label for="wasteType">Tipo de Residuo:</label>
        <select id="wasteType" required>
            <option value="plastico">Plástico</option>
            <option value="vidrio">Vidrio</option>
            <option value="papel">Papel</option>
            <option value="metal">Metal</option>
            <option value="organico">Orgánico</option>
        </select>

        <button type="submit">Confirmar Solicitud</button>
        <button type="button" onclick="goBackToDashboard()">Cancelar</button>
    </form>
    <div id="pickupMessage"></div>
    </div>

    <!-- Historial de Reciclaje -->
<div id="recyclingHistoryContainer" class="recycling-history-container" style="display: none;">
    <h2>Historial de Reciclaje</h2>
    <table id="recyclingHistoryTable">
        <thead>
            <tr>
                <th>Fecha</th>
                <th>Ubicación</th>
                <th>Tipo de Residuo</th>
            </tr>
        </thead>
        <tbody>
            <!-- Las solicitudes se agregarán aquí dinámicamente -->
        </tbody>
    </table>
    <button onclick="goBackToDashboard()">Volver al Panel</button>
</div>

<!-- Localización de Centros de Reciclaje -->
<div id="recyclingCentersContainer" style="display: none;">
    <h2>Centros de Reciclaje Cercanos</h2>
    <div id="map" style="height: 400px; width: 100%;"></div>
    <ul id="recyclingCentersList">
        <!-- Lista dinámica de centros de reciclaje -->
    </ul>
    <button onclick="goBackToDashboard()">Volver al Panel</button>
</div>

    <script src="script.js"></script>
</body>
</html>
